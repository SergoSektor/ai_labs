# Telegram RAG –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç (–ª–æ–∫–∞–ª—å–Ω–æ, –±–µ—Å–ø–ª–∞—Ç–Ω–æ)

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π —á–∞—Ç-–±–æ—Ç –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Å RAG-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π.

**–°—Ç–µ–∫:** Ollama (llama3.2), Chroma, sentence-transformers, aiogram 3.x

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìö **–û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã** ‚Äî –ø–æ–ª—É—á–∞–π—Ç–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤.
- üí° **–û–±—ä—è—Å–Ω–µ–Ω–∏—è** ‚Äî –ø–æ–¥—Ä–æ–±–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –ø–æ —Ç–µ–º–∞–º.
- üìù **–°—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –∫—Ä–∞—Ç–∫–æ–µ –∏–∑–ª–æ–∂–µ–Ω–∏–µ –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤.
- üîé **–ü–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º** ‚Äî –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤.
- üíæ **–ò–∑–±—Ä–∞–Ω–Ω–æ–µ** ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏—Ö—Å—è –æ—Ç–≤–µ—Ç–æ–≤.
- üì§ **–≠–∫—Å–ø–æ—Ä—Ç** ‚Äî —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.
- üëçüëé **–û—Ü–µ–Ω–∫–∞** ‚Äî –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø–æ –æ—Ç–≤–µ—Ç–∞–º

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.10+
2. –°–æ–∑–¥–∞–π—Ç–µ venv –∏ –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   python -m venv .venv
   .venv\Scripts\activate      # Windows
   # source .venv/bin/activate  # Linux/Mac
   pip install -r requirements.txt
   ```
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:
   ```
   TELEGRAM_TOKEN=–≤–∞—à-—Ç–æ–∫–µ–Ω-–±–æ—Ç–∞
   OLLAMA_MODEL=llama3:latest
   ```
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Ollama –∑–∞–ø—É—â–µ–Ω:
   ```bash
   ollama list
   ollama pull llama3.2  # –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –º–æ–¥–µ–ª—å
   ```

## –ò–Ω–≥–µ—Å—Ç –¥–∞–Ω–Ω—ã—Ö

–°–ª–æ–∂–∏—Ç–µ —Ñ–∞–π–ª—ã –∑–Ω–∞–Ω–∏–π –≤ `data/raw/` (txt/md/pdf/docx):

–ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é:
```bash
python ingest.py --reset
```

## –ó–∞–ø—É—Å–∫

```bash
python bot.py
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞

### –ö–æ–º–∞–Ω–¥—ã
- `/start` ‚Äî –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã
- `/help` ‚Äî –ø–æ–¥—Ä–æ–±–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞
- `/fav` ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ

## –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑ Telegram

```python
from rag_service import RagService
rag = RagService()
answer, docs = rag.generate_answer(
    "–ß—Ç–æ —Ç–∞–∫–æ–µ RAG?"
)
print(answer)
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
edu-assistant/
‚îú‚îÄ‚îÄ bot.py           # Telegram-–±–æ—Ç
‚îú‚îÄ‚îÄ rag_service.py   # RAG-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ ingest.py        # –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ config.py        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ .env             # –°–µ–∫—Ä–µ—Ç—ã (–Ω–µ –≤ git!)
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ raw/         # –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
‚îî‚îÄ‚îÄ chroma_db/       # –í–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î
```
